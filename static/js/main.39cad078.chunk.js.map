{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Commons/Paginator/Paginator.module.css","components/Header/Header.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","assets/images/default-avatar-icon.png","components/Profile/ProfileStatus/ProfileStatus.module.css","components/Users/UserItem/UserItem.module.css","components/Commons/Spinner/Spinner.module.css","components/Profile/MyPosts/MyPosts.module.css","hoc/withAuthRedirect.js","redux/dialogs-reducer.js","logo.svg","components/Profile/MyPosts/Post/Post.module.css","components/Navbar/Navbar.jsx","api/api.js","utils/object-helpers.js","redux/users-reducer.js","components/Users/UserItem/UserItem.jsx","components/Commons/Paginator/Paginator.jsx","components/Users/Users.jsx","components/Commons/Spinner/Spinner.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/LoginContainerFormik.jsx","redux/app-reducer.js","components/Profile/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileDataForm/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","redux/profile-reducer.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","App.js","hoc/withSuspense.js","serviceWorker.js","redux/store.js","index.js"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","initialState","dialogs","id","name","messages","message","newMessageBody","sendMessageAC","type","updateNewMessageBodyAC","body","bodyMessage","dialogReducer","action","Navbar","className","s","nav","item","activeClassName","activeLink","href","instance","axios","create","withCredentials","baseURL","headers","authAPI","get","then","response","data","email","password","rememberMe","post","delete","usersAPI","getUsers","currentPage","pageSize","follow","userId","unfollow","getProfileData","console","warn","profileAPI","updateStatus","status","put","getStatus","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","updateObjectInArray","items","itemId","objPropName","newObjProps","map","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","filter","UserItem","userItem","user","avatar","src","photos","small","defaultAvatar","alt","disabled","some","onClick","onUnfollow","onFollow","Paginator","totalItemsCount","onPageChanged","portionSize","useState","portion","setPortion","pagesCount","Math","ceil","pages","portionLeft","portionRight","i","push","style","color","paginationWrapper","btnNav","paginationContainer","index","p","key","active","Users","usersElements","u","userDefaultAvatar","Spinner","overlay","ldsSpinner","getUsersSuper","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersAPIComponent","currentPageNumber","requestUsers","UsersContainer","page","totalCount","bind","Header","AppHeader","logoContainer","logo","AppLogo","loginBlock","login","logout","SET_USER_DATA","errors","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","LoginContainer","LoginForm","initialValues","confirmPassword","validate","values","test","length","onSubmit","setSubmitting","setErrors","setStatus","initialStatus","msg","isSubmitting","htmlFor","placeholder","component","initialized","appReducer","ProfileStatus","editMode","activateEditMode","setState","deactivateEditMode","onStatusChange","e","currentTarget","value","prevProps","prevStatus","profileStatus","onDoubleClick","onChange","autoFocus","onBlur","MyTextInput","label","useField","field","meta","touched","error","MyCheckbox","children","MyTextArea","ProfileDataForm","handleSubmit","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contacts","setFieldError","rows","Object","keys","ProfileData","isOwner","goToEditMode","contactTitle","contactValue","Contact","ProfileInfo","setEditMode","log","profileInfo","profileInfoContainer","large","defaultImgProfile","target","files","file","onMainPhotoSelected","newPostValue","posts","profileId","savePhotoSuccess","getUserProfile","entries","profileReducer","newPost","text","postId","newText","Post","MyPosts","newPostElement","createRef","postsMap","postItem","postsBlock","ref","newTextPost","current","updateNewPostText","addPost","PureComponent","MyPostsContainer","profilePage","Profile","ProfileContainer","match","params","authorizedUserId","history","refreshProfile","prevState","snapshot","compose","getState","withRouter","DialogsContainer","lazy","App","initializeApp","path","render","Suspense","fallback","LoginContainerFormik","app","promise","Promise","all","Boolean","window","location","hostname","reducers","combineReducers","dialogsPage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","__store__","ReactDOM","basename","process","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.39cad078.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationContainer\":\"Paginator_paginationContainer__sRht1\",\"paginationWrapper\":\"Paginator_paginationWrapper__1b3Mc\",\"btnNav\":\"Paginator_btnNav__38cGb\",\"item\":\"Paginator_item__1hKRH\",\"active\":\"Paginator_active__CeI7B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"AppLogo\":\"Header_AppLogo__nsysM\",\"App-logo-spin\":\"Header_App-logo-spin__1AZMH\",\"AppHeader\":\"Header_AppHeader__1G89E\",\"loginBlock\":\"Header_loginBlock__6mma5\",\"logoContainer\":\"Header_logoContainer__gaEZM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__2yWda\",\"profileInfoContainer\":\"ProfileInfo_profileInfoContainer__2AB0E\",\"avatar\":\"ProfileInfo_avatar__3xuFq\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAADFBMVEUAAAAAAAAAAAAAAAA16TeWAAAAA3RSTlM8AMhCuJKoAAAObklEQVR42u2dvXLbSBLHx65yshvjJc4BH4GuDY8BXcQHAwR6BDwC7brSIzDfcEsb+BGQHB9B+TJQlcsZA1YJPoo4n2XLsjDd/e/pGdh7hUklgD/0x79nBoMZV/7g5iaACWACmAAmgAlgApgAJoAJYAKYACaACWACmAAmgAlgApgAJoAJYAL4OwO8+uXqqu+vrn5/9kMA3J/9Q/vgRgd49a7/rn18Ni7AL/2g/T4iQPGy97T32VgAxbve2z5m4wBQvx9GoAcoZj3ZbrMRAJjf/0SQHmDRs22fGuC3XmiXaQGKVgI4Z0kBZr3YblMCLHqg7dMByA7QO8FFdoDaCRqAVQ+2y0QA84H0XrlP7Wogzac0AE8j8I+HLsCrf4THoQuNwPcvHv/x9cvQOHRhBji/efrn522YCVyQAT6+GP7D6zbIBC7EAP6q+10/YR8b4LEBqH7HYwLYBE5vAPrejyn3cQEe3frMyMyqVZsABKi/PdpbsLtwExXgmwj+xf/jr1o5xABWsGUf+eoyIsAMv+tKWRQhgEIT29/yJYsGsNCE9jcn7KMBtCq35g+4sQByZVfnIWJ2kQBmyp7OQxx2cQAKdV9vpghDp1DBLQpQKdTQ4SrYlXBrcDV0+ONscYAVfo2DRUDV25/BUuBgD6iGvSvYBw71gHLMOUN94FAP7HQAOeoDB3rgXCpbC/rAgR5QT70sQC1yoAqpp78KUIsc5oGuVLcGC16HPcdOD5BjtnOQB85lQGshHzjIjvsQgAXkPQc9xTYEoIKs5xBFPZVBbY5oOA+w5N3orj43xwfQwQAw5wL59cNLow8vuBQ6hQMUXCo/Goj257dcRcqCAXLGA6tWnpmrARFxQBJm8pSVf9BeAIno5CS85UeLXH9hLgeBkxPZ54F/YnPUtSwjTtbhTHYA+X+yGjsxBE7SnCE3DpqLQeDEENiDBvBaeiGqsRNDYAsawCt5KzEInBQCZ264LkdBKwWBk0KgY4brQCI0UhA4KQR2gAYwMxK5pAROKgQZM2MEvCoppHLghEJwYictgTCcC+XACX2Bg8IDXh8shT6BE/oCO40HfPkmBYHjQ8AzL5frXlp+Ea1MDVBRNa7hAE6Ux7ZqgJpSEP7taYbfSABoCPCKf2e5Iy7o1AAtEdU1D3Ag7nTSAhSUSxse4ESlU6YEyNnnUQXBkpUiflChVAH/JTk/uGFjUKkC/h8q2Ch0XAyeyMEa3ToiCE46gIIKgUZcP0FBZyqAnAoceRFHht+MAagJGRJjsO+vCSm6UQE0bAdHGYX3ZutUAHPikloGoALnpAEoqGdZygB3FHamAKiosJkDy4gox20VADXfzdemQcGkgaP7g+cyJAm8T9rS/UI/wIaIwQoB2BFR2CkAWiIGcwTgOLzugh6iOjoJdsSNAvIwp9PAC7Cm/n+JANxRT3QNA9SUxRoE4KTwKQGw5Cc8pEaRH2CADfXv0IJG0nd3MEBLxCAkA14hyMk0cGQSbANlwItekWngyEpQBsqAP9jIauCoJDiFAxyp8L0BAcgkqDGAgyYNHPXPN2WgDjHsHQgwp4pngwHcUd47gQAtFTAgwIkK7DMGUFBJAAqhP99bIg8dUYpOBgAa/hoCIOMFVGK/4FCR7YhY9+VyiS7t9sXPBZGHjmDdlcGlwA+QE3Z1hLe2FoBrKg1OEAAVr2gtYsx3RgAKMpPWFgDquZz/Oe/K8FpE9L02fs86/88c4gMs/bZxfhm4MQEcyZ7uDQCwJL1YmwAIyzq/DGxNAAdyxN0BAHNyEGMDKPxC4Lzp4h/GXZgAiBs7EDQCgN+0DnSVCqCjJ762IgAtA2iXkALwp5fDZcAK4L+z89p5lwIg90qEw2XACuCPLuetGVkKgMJb5ZwvWc5lCoDPQnASAVp6VtUK4H0257MTcQOjDtyHVyYAVMyrZqMS3ltwKwCsman92ghQ+zqszpesuzQA3ns7349sjQDHkhaCGwFgybxfsvUJvwT4QQBoqMFlBIDSlyHOI4TUwqe1FaD1SKHziAX1jtE0MqJu7jyQXSqAxmNe53HTwQpwXTJKxAMUTBbZRscPUpqxABUXQ6b5AUpkHC6EdoDcYx4fAHV9aQVYex7P4UqMA2QlrsUOV2LbLBmlxR4AegWoFeDzDXiAJj1AxwJs2JVvKAB5g/mwGLjhf3Ts9SaAZvh8TnRSpMlqKsQcXgrGACj4RcBmgHoYoiqATXKAil8BCwLQaeRRejcU62s2iE0Anvs7RS2yA3gs7CQfRQXwxNhPBnDBf41gBvgsdEcGYBkF4I4HOAgAp5QAcwGg4S9fmgE2g2LnhL9HBhg+oVNU40gAJwHgYAYQHoEDaMcAOAsAx5QAFwIAX40jANSDHpsbKOUuZRDmA61XATSpASq+OxChFqwH9X4IsC3Tdck8v+B4vsidUo+NhwBZmW5odh9lNEAuAFjnB3xhrgEokgPU7MDOPkvmk7oBwDkCwI4Po2CAdXKAC15FzJPVXzL5SAIsxwE4/NwAdxEAjrya0wDNOAAdC9ClBWh+boBNJIAbxcDAsRESH2D5cwPMxwE4hQKsRwE4pi1GFxaA6v8foOX9F6NHNOhyaAAi9An/5gDmt2ZmgHYMgN3PDGB+Z3Qv58kBzskAzC8srABNagBBRiPMEd2X9NQAXTKAix8NYPjUKw5Abu6VjwNwkwxgbe6PGAGq1ACSEBXm7oBRCUtzMbQCtNZiaAWYW4uhFWBjrUUAALuvaWOtRcY+IVaNuoQAtbUUWAFyqxJbASqrEH4G4AenLEBhFULb6LgM3YckIsDcqENmgMaoQwAAv7fu0igDwhzRRgSojTJgmyfE+kQ7IwBvwcKYhbbJaiwPs7QAjS0J7ABLWxIIb0yWUjUH0uBgBTilBZgnBzhaAC5kgNzUG5BeXNZiLTEDmN4dQ1K4swL0/A0qIwD/+j6PAHAtAwSvoICKwVa+nAZYjwNwzQNsbdUokz1IA1QRAIAQ2vIA17KSBHdJpaVcBZBHGxOAcTUd0CE4mQBKQEsbw9hcXNAoDw7FHkknAxjWlALzxQf5ag5AHplIHYKjbD9pXXFnqsdABHEA8sBAqsdADnFLuxs5jitTMZQWtwOdwsJSi8Tl/UtZy9T7lg8u5gAuzADAxUcGAOiT8dVIojd+ZSNrMRJAHEAOxNHSoMTih05rIJNqgxKLn3pVgJbkBiUWP3YrADVdG5TY+r2hLIU7I4D0kYkohUAA89+cAgCsEmVWAKAec0ok6ZD82e9GFhMOALmU//C5AR5jE6xDwKffS9COBgD+4/cLMJLChNC3w4VqAwQRAJEQfgOEHCgGF8E6BGwBsUblLKhHCGyCUaGCHiSEwDYgBVDS6mAh9IW4ZisYMwCwFQy7GY7YIUAURNoMZ26ZrT0DSixtB7SxzNaeACGUNkRq5I55OIBPrTWbYokAd4ASS5ti1bKeBAN4N13TbIwm9kqR9JE2RlvLUhgMAG0NV8lKFAwAbY5XyDcKBoC2B+Q2SLQCzHtgg0Rui0grgPfZNJtkGgHATTKXYl0PBfDHt2ajVCMAuFFqLQpBKAC4VWwuCkFuWD4CbJZbiXcKrQXgdsEFtCQwpBzPvfml2TJa7BOeM0kGgC2jmU2zv5iImR94L8kAsml2IwjBjJsh2QsygGwbvuSFYMFPVr/lQwfZOJ0Xgt+kpWwvdDKg2jy/HBw27mkfM5UMqI4P+BRI7+SVVO+5iZUtAFAwQ4wZsqJyz0yuZQAAfYSEFIBf2yWZhdAREvQhGivwQyuvHikO0aCOESnQT828p8ArjhFZEmkw6+G2J+YGsINUiKNkFr2iXfrtih0l4z9M53WrARiGwZwY86HHCRWzXtVu0dxCD1T6tVe2vScJwAOVfEdKrXp1uxwmAXqkVDPovhatHuD7oqA6VGt4rNisD2h/8Q/FAAzMteiD2lverTTA06PlQhzwNBdbSt+Rw/VmfWC7ffJMGQjw5HjBRR/c9t95FT5e8PuD6FZtOMBDLpLH5QFHTM4Mv9/fZp5HkgEeH7K56E1t/8ip+CGbj44Zfd3aAO6doD1m9NFBqzPj79/novag1XuLHe0O+OqEmu7oOnok3YVL0FMnqA/b/Xrc8CzC7//PCS092HHMFEC26qO0vf7A5Xvl/HcbB6D/F/NKjTt0+z991JYpAODNHhRNdew4utWBpukOXq/jA+iOns/jA1yrAIr4AJkKIH4UUnOIrhwpCjslQD1SDJIA0aNwpwQoRopBEiB2FJLz2K4cJwo7NUA9TgzSAFVcgK0aAN5+CesVlXqA+SgxyAAsYwIcAgDyMWSIAyjGkCEOIGYQMK/TXDlGEByCAOoRZIgFqEaQIRYgnhRx70Gd9LI3aSUSAOoRQoAFKNKrAA8QSwnYl+pOXHKQVAUEgDx1IZAAivQhwAPECQJ+XQUPsIgBsDcAVIl1WASIocbCElkBoEmrwzJAnjgJRYAicRKKAPa50tvSBlCnrIQIQJHYAyKAVQyl1d4ywCKtB2SAKqUMIgA2H4geAAAWST0AABQpcwABsGjRbRkDoE7pAQSgSOkBBCC8JndlHIDgl2eXkQBC+0WnMhZAoBTsowEUyUIQBAgLw66MB7BKFYIoQIga3pYxAQJ6x7uoAPqFBOcsKoA+E/dlXACtCVADwABaE6AGwAF0JoANgAPoTAAbQAGgMQFuAAWAxgS4ATQAuBzelmkAVnGrgB4ANYHGADoALA4VEagFwOJwX6YDQJxwW6YEkJ2gc4AaQM6EyzItgBQG+zI1QPmS+/33ZXoALhBvyzEA6M+tPmajAJQF4YX3Ab8fBEAQBP1+GEBZPh/owflN2J0CAcrXf37/+x9elOMClOWrRwgfngXfJhzgkxWeX131/dXVmxeGm1gAorQJYAKYACaACWACmAAmgAlgApgAJoAJYAKYACaACWACmAAmgAlgApgAfjjAfwHrOsdxeJHingAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileStatus\":\"ProfileStatus_profileStatus__3wB7u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userItem\":\"UserItem_userItem__2K1XX\",\"avatar\":\"UserItem_avatar__3_Njk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Spinner_overlay__3BBkk\",\"ldsSpinner\":\"Spinner_ldsSpinner__2KopQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nlet mapStateToPropsForRedirect = (state)=>{return{ isAuth:state.auth.isAuth };};\n\nexport const withAuthRedirect = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) {\n        return <Redirect to={\"/login\"} />;\n      }\n\n      return <Component {...this.props} />;\n    }\n  }\n  return  connect(mapStateToPropsForRedirect)(RedirectComponent);\n};\n","const UPDATE_NEW_MESSAGE_BODY = \"UPDATE-NEW-MESSAGE-BODY\";\nconst SEND_MESSAGE = \"SEND-MESSAGE\";\n\nconst initialState = {\n  dialogs: [\n    { id: 1, name: \"Alex\" },\n    { id: 2, name: \"Ivan\" },\n    { id: 3, name: \"Roberta\" },\n  ],\n  messages: [\n    { id: 1, message: \"Hello\" },\n    { id: 2, message: \"Hou are you?\" },\n    { id: 3, message: \"Thanks, im good and you?\" },\n  ],\n  newMessageBody: \"\",\n};\n\nconst dialogReducer = (state = initialState, action) => {\n \n  switch (action.type) {\n    case UPDATE_NEW_MESSAGE_BODY:\n      return {...state, newMessageBody:action.bodyMessage};\n     \n     \n    case SEND_MESSAGE:\n     \n      let body = state.newMessageBody;\n      \n      return  { \n        ...state,\n        newMessageBody:'',\n        messages:[...state.messages,{ id: 4, message: body }],\n      };\n     \n     \n    default:\n      return state;\n  }\n};\n\n//****-ACTIONS-****\nexport const sendMessageAC = () => {\n  return { type: SEND_MESSAGE };\n};\nexport const updateNewMessageBodyAC = (body) => {\n  return { type: UPDATE_NEW_MESSAGE_BODY, bodyMessage: body };\n};\n\nexport default dialogReducer;\n","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './Navbar.module.css';\n\nconst Navbar = () => {\n    return (\n    <nav className={s.nav}>\n            <div className={s.item}>\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\n               \n            </div>\n            \n            <div className={s.item} >\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\n               \n            </div>\n            <div className={s.item} >\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\n               \n            </div>\n            <div className={s.item}>\n                \n                <a href=\"\">More</a>\n               \n            </div>\n            <div className={s.item}>\n                Music\n               \n            </div>\n\n           \n        </nav>\n      \n    );\n   \n\n}\n\nexport default Navbar;","import axios from \"axios\";\n\n\n\nconst instance = axios.create(\n    { \n        withCredentials:true,\n        baseURL:'https://social-network.samuraijs.com/api/1.0/',\n        headers:{\n            \"API-KEY\":\"a5008e7c-13ed-4c09-91fb-8786d1dab1cb\"\n        }\n    }\n);\n\nexport const authAPI = {\n    me:()=>{\n        return instance.get('/auth/me').then((response)=>{\n            return response.data;\n        });\n    },\n    login:(email,password,rememberMe=false)=>{\n        return instance.post('/auth/login',{email:email,password:password,rememberMe:rememberMe}).then((response)=>{\n           \n            return response.data;\n        });\n    },\n    logout:()=>{\n        return instance.delete('/auth/login').then((response)=>{\n           return response.data;\n        });\n    }\n\n};\n\nexport const usersAPI = {\n\n    getUsers:(currentPage,pageSize) => {\n\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n        .then((response)=>{ return response.data;});\n    },\n\n    follow(userId){\n        return  instance.post('follow/'+userId)\n        .then((response)=>{ return response.data;});\n\n    },\n    unfollow(userId){\n        return instance.delete('follow/'+userId)\n        .then((response)=>{ return response.data;});\n        \n    },\n    getProfileData(userId){\n        console.warn('Obsolete method.Please profileAPI object.');\n        return profileAPI.getProfileData(userId);\n    }\n   \n   \n}\nexport const profileAPI = {\n\n    getProfileData(userId){\n        return instance.get('profile/'+userId)\n        .then((response)=>{ return response.data;});\n    },\n\n    updateStatus(status){\n        return instance.put('profile/status',{status:status})\n        .then((response)=>{ return response.data;});\n    },\n    \n    getStatus(userId){\n        return instance.get('profile/status/'+userId)\n        .then((response)=>{ return response.data;});\n    },\n\n    savePhoto(photoFile){\n        const  formData = new FormData();\n        formData.append(\"image\",photoFile);\n        return instance.put('profile/photo',formData,{\n            headers:{\n                'Content-Type':'multipart/form-data'\n            }\n        }).then((response)=>{ return response.data;});\n    },\n\n    saveProfile(profile){ \n        return instance.put('profile',profile).then(response=>response.data);\n    }\n}\n\n","export  const updateObjectInArray = (items,itemId,objPropName,newObjProps)=>{\n\n    return items.map(\n        (item)=>{   \n          if(item[objPropName] === itemId){\n            return {...item,...newObjProps}\n          }\n          return item;\n        }\n      )\n\n}\n","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/object-helpers\";\n\n//****************--USing Users API--> https://social-network.samuraijs.com/  --***********/\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_CURRENT_PAGE =\"SET_CURRENT_PAGE\";\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\nconst FOLLOWING_IN_PROGRESS = \"FOLLOWING_IN_PROGRESS\";\n\nlet initialState = {\n  users: [],\n  pageSize:10,\n  totalUsersCount:0,\n  currentPage:1,\n  isFetching:false,\n  followingInProgress:[],\n};\nconst usersReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n   \n    case FOLLOW:\n      \n     return{...state,users: updateObjectInArray(state.users,action.userId,\"id\",{followed:true})};\n\n    case UNFOLLOW:{\n      \n      return{...state,users: updateObjectInArray(state.users,action.userId,\"id\",{followed:false})};\n\n      // return{\n      //   ...state,\n      //    users:state.users.map(\n      //      (userItem)=>{   \n      //        if(action.userId === userItem.id){\n      //          return {...userItem,followed:false}\n      //        }\n      //        return userItem;\n      //      }\n      //    )\n      //  };\n      }\n      case SET_USERS:{\n        //users incolla due arrays users essistenti(...state.users) con users arrivati(...action.users)->  {...state,users:[...state.users,...action.users]}\n        return{...state,users:[...action.users]};\n\n      }\n      case SET_CURRENT_PAGE:{\n        return{...state,currentPage:action.currentPage};\n        \n      }\n      case SET_TOTAL_USERS_COUNT:{\n        return {...state,totalUsersCount:action.totalUsersCount};\n      }\n      case TOGGLE_IS_FETCHING:{\n\n        return{...state,isFetching:action.isFetching}; \n\n      }\n      case FOLLOWING_IN_PROGRESS:{\n        return{\n          ...state,\n          followingInProgress: action.isFetching \n          ?[...state.followingInProgress,action.userId]\n          :state.followingInProgress.filter(id => id != action.userId)\n        }\n      }\n         \n    default:\n      return state;\n  }\n};\n\n\n\n\n\n\n//****-ACTIONS-****\nexport const followSuccess = (userId) => {\n  return { type: FOLLOW, userId:userId };\n};\n\nexport const unfollowSuccess = (userId) => {\n  return { type: UNFOLLOW,userId:userId };\n};\n\nexport const setUsers = (users) => {\n  return { type: SET_USERS,users:users };\n};\n\nexport const setCurrentPage = (currentPage) => {\n  return { type: SET_CURRENT_PAGE,currentPage:currentPage };\n};\n\nexport const setTotalUsersCount = (totalCount) => {\n  return { type: SET_TOTAL_USERS_COUNT,totalUsersCount:totalCount };\n};\n\n\nexport const toggleIsFetching = (isFetching)=>{\n  return { type:TOGGLE_IS_FETCHING,isFetching};\n}\n\nexport const toggleFollowingInProgress = (isFetching,userId)=>{\n  return {type:FOLLOWING_IN_PROGRESS,isFetching,userId};\n}\n\n\n\n//** Functions utility   */\n\nconst followUnfollowFlow = async(dispatch,userId,apiMethod,actionCreator)=>{\n\n  dispatch(toggleFollowingInProgress(true,userId));\n  let data = await apiMethod(userId);\n  \n            \n  if (data.resultCode == 0) {\n    dispatch(actionCreator(userId));\n    dispatch(toggleFollowingInProgress(false,userId));\n  }\n  \n}\n\n//****-THUNK--CREATORS-****\nexport const requestUsers = (page,pageSize)=>{\n  //****-THUNK-****\n  return async(dispatch)=>{\n    dispatch(toggleIsFetching(true));\n    dispatch(setCurrentPage(page));\n\n    let data = await usersAPI.getUsers(page,pageSize);\n \n    dispatch(toggleIsFetching(false));\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n       \n   \n  }; \n}\n\nexport const follow = (userId)=>{\n  return async (dispatch)=>{\n    let apiMethod = usersAPI.follow.bind(usersAPI);\n    let actionCreator = followSuccess;\n\n    followUnfollowFlow(dispatch,userId,apiMethod,actionCreator);\n\n   \n  }; \n}\n\nexport const unfollow = (userId)=>{\n  return async(dispatch)=>{\n    let apiMethod = usersAPI.unfollow.bind(usersAPI);\n    let actionCreator = unfollowSuccess;\n\n    followUnfollowFlow(dispatch,userId,apiMethod,actionCreator);\n\n    \n  }; \n}\n\nexport default usersReducer;\n","import axios from 'axios';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './UserItem.module.css';\n\n\n\nconst UserItem = (props) => {\n\n    let FollowingHandle = (userId)=>{\n       \n       \n        if(props.user.followed){\n            props.onUnfollow(userId);\n           \n        }else{\n            props.onFollow(userId);\n           \n        }\n\n\n    };\n\n    return (\n        <div className={s.userItem} >\n            <div>\n                <NavLink to={'/profile/'+props.user.id}>\n                    <img className={s.avatar} src={props.user.photos.small?props.user.photos.small:props.defaultAvatar} alt=\"\"/>\n                </NavLink>\n           \n            </div>\n            <div>{props.user.id} </div>\n            <div>{props.user.name} </div>\n            <div>{props.user.status} </div>\n           \n            <div>\n                <button  \n                    disabled={props.followingInProgress.some((id)=>{ return id===props.user.id; })} \n                    onClick={()=>{FollowingHandle(props.user.id)}}\n                >\n                    {props.user.followed?'unfollow':'follow'}\n                </button>\n               \n            </div>\n            \n         \n            \n            \n        </div>\n    );     \n\n\n}\n\nexport default UserItem;","import React, { useState } from 'react';\nimport s from './Paginator.module.css';\n\nlet Paginator = ({totalItemsCount,pageSize,currentPage,onPageChanged,portionSize=10})=>{\n  \n    let [portion,setPortion] = useState(1);\n    \n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n    let pages = [];\n    let portionLeft = portionSize*(portion-1);\n    let portionRight = portionSize*portion;\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    let nextHandler = ()=>{\n        setPortion(portion+1);\n    }\n    let prevHandler = ()=>{\n        setPortion(portion-1);\n    }\n\n    return (\n        <div>\n            <div><p> Page <span style={{color:\"red\"}}><b>{currentPage}</b></span> of <i>{pagesCount}</i></p></div> \n            <div className={s.paginationWrapper}>\n                <div className={s.btnNav} > <button disabled={ portion>1 ?false:true } onClick={prevHandler} > {`\\<`} </button></div> \n            \n                <div className={s.paginationContainer}>\n                \n                {/* {portionLeft} */}\n                    {pages.filter((item,index)=> index>=portionLeft && index< portionRight ).map((p,index) => {\n                        return (\n                            <div\n                                key={index}\n                                className={ `${s.item} ${currentPage === p ? s.active : ''}`  }\n                                onClick={() => { onPageChanged(p) }}\n                            >{p}</div>\n                        );\n                    })}\n                \n                    \n\n\n                </div>\n                    {/* {portionRight} */}\n                <div className={s.btnNav} ><button  disabled={ portion<Math.ceil(pagesCount/portionSize)?false:true } onClick={nextHandler}  >   {`\\>`} </button></div> \n            </div>\n        </div>\n\n      \n    );\n}\n\nexport default Paginator;","import React from 'react';\nimport s from './Users.module.css';\nimport userDefaultAvatar from '../../assets/images/default-avatar-icon.png'\n\nimport UserItem from './UserItem/UserItem';\nimport Paginator from '../Commons/Paginator/Paginator';\n\n\nlet Users = ({\n    users,followingInProgress,onFollow,onUnfollow,\n    totalUsersCount,pageSize,currentPage,onPageChanged,...props\n    })=>{\n\n    let usersElements = users.map((u) => { \n        return (\n            <UserItem \n                key={u.id} \n                user={u} \n                followingInProgress={followingInProgress} \n                defaultAvatar={userDefaultAvatar} \n                onFollow={onFollow} \n                onUnfollow={onUnfollow} \n                \n            />\n        ); \n    });\n    \n   \n    return (\n        <div className={s.users}>\n\n            <h2>Users List</h2>\n            <div>\n                {usersElements}\n            </div>\n          \n            <Paginator \n                totalItemsCount = {totalUsersCount}  \n                pageSize ={pageSize} \n                currentPage={ currentPage} \n                onPageChanged = {onPageChanged}\n            />\n\n        </div>\n    );\n}\n\nexport default Users;","import React from 'react';\nimport s from './Spinner.module.css';\n\nlet Spinner = () => {\n    return <>\n        <div className={s.overlay}>\n            <div className={s.ldsSpinner}><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\n        </div>\n    </>\n}\n\nexport default Spinner;","import { createSelector } from 'reselect'\n\n// Selectors is  an function  that receive state as argument and return pice of need state.\n\nconst getUsers = (state)=>{\n    return  state.usersPage.users;\n\n};\n\nexport const getUsersSuper = createSelector(getUsers,(users)=>{\n    return users.filter(u=>true);\n} );\n\nexport const getPageSize = (state)=>{\n    return  state.usersPage.pageSize;\n\n};\nexport const getTotalUsersCount = (state)=>{\n    return  state.usersPage.totalUsersCount;\n\n};\n\nexport const getCurrentPage = (state)=>{\n    return  state.usersPage.currentPage;\n\n};\n\n\nexport const getIsFetching = (state)=>{\n    return  state.usersPage.isFetching;\n\n};\nexport const getFollowingInProgress = (state)=>{\n    return state.usersPage.followingInProgress;\n\n};\n\n\n\n\n","import React from 'react';\n\nimport { connect } from 'react-redux';\nimport {setCurrentPage,requestUsers,follow,unfollow } from '../../redux/users-reducer';\nimport Users from './Users';\n\nimport Spinner from '../Commons/Spinner/Spinner';\nimport {getPageSize,getTotalUsersCount,getCurrentPage,getIsFetching,getFollowingInProgress, getUsersSuper} from '../../redux/users-selectors';\n\nclass UsersAPIComponent extends React.Component {\n\n    componentDidMount() {\n     \n        this.props.requestUsers(this.props.currentPage,this.props.pageSize);\n    }\n\n\n    onPageChanged = (currentPageNumber) => {\n        this.props.requestUsers(currentPageNumber,this.props.pageSize);\n\n    }\n\n    render() {\n        return <>\n\n            <Users\n                users={this.props.users}\n                totalUsersCount={this.props.totalUsersCount}\n                pageSize={this.props.pageSize}\n                onPageChanged={this.onPageChanged}\n                currentPage={this.props.currentPage}\n                onFollow={this.props.follow}\n                onUnfollow={this.props.unfollow}\n                followingInProgress={this.props.followingInProgress}\n               \n            />\n            {this.props.isFetching ? <Spinner></Spinner> : ''}\n\n\n        </>\n    }\n\n}\n\n\n// const mapStateToProps = (state) => {\n//     return {\n//         users: state.usersPage.users,\n//         pageSize: state.usersPage.pageSize,\n//         totalUsersCount: state.usersPage.totalUsersCount,\n//         currentPage: state.usersPage.currentPage,\n//         isFetching: state.usersPage.isFetching,\n//         followingInProgress:state.usersPage.followingInProgress,\n        \n//     };\n// }\nconst mapStateToProps = (state) => {\n    return {\n        //getUsersSuper is super selector (is not simple but use simple selector getUsers )\n        users: getUsersSuper(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress:getFollowingInProgress(state),\n        \n    };\n}\n//--si puo accorciare passando un object opposto di  fuction(dispatch) a mapDispatchToProps\nconst UsersContainer = connect(mapStateToProps,\n    {\n        setCurrentPage,\n        requestUsers,\n        follow,\n        unfollow,\n    }\n)(UsersAPIComponent);\n\nexport default UsersContainer;","import React from 'react';\nimport s from './Header.module.css';\n\nimport logo from '../../logo.svg';\nimport { NavLink } from 'react-router-dom';\n\nconst Header = (props) => {\n\n\n    let com = ()=>{\n        if(!props.auth.isAuth){\n            return  <NavLink to={'/login'}>Login</NavLink>;\n        }\n\n        return <>\n            <div>\n                <div>{props.auth.userId}</div>\n                <div>{props.auth.login}</div>\n                <button onClick={props.logout}>Logout</button>\n\n            </div>\n            \n        </>;\n\n    }\n\n    return (\n      \n\n        <header className={s.AppHeader}>\n            <div className={s.logoContainer}>\n                <img src={logo} className={s.AppLogo} alt=\"logo\" />\n            </div>\n            <div className={s.loginBlock}>\n            {com()}\n               \n\n            </div>\n\n        </header>\n    );\n\n\n}\n\nexport default Header;","//****************--USing Users API--> https://social-network.samuraijs.com/  --***********/\n\nimport { authAPI } from \"../api/api\";\n\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\";\n\n\nlet initialState = {\n  userId: null,\n  email:null,\n  login:null,\n  isAuth:false,\n  errors:null,\n};\nconst authReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n    case SET_USER_DATA:{\n     \n      return {...state,...action.payload,isAuth:action.payload.isAuth};\n\n    }\n     \n\n    default:\n      return state;\n  }\n};\n//****-ACTIONS-****\nexport const setAuthUserData = (userId,email,login,isAuth) => {\n  return { type: SET_USER_DATA, payload:{ userId,email,login,isAuth } };\n};\n\n//****-THUNK_ACTIONS-****\nexport const getAuthUserData = () => {\n  return async (dispatch)=>{\n  let response = await authAPI.me();\n  \n  if(response.resultCode === 0){\n    //destructurization\n    let {id,login,email} = response.data;\n    dispatch(setAuthUserData(id,email,login,true));\n\n  }\n   \n\n  };\n};\n\n\nexport const login = (email,password,rememberMe,setSubmitting,setErrors,setStatus) => {\n  return async (dispatch)=>{\n     let response = await authAPI.login(email,password,rememberMe);\n   \n      if(response.resultCode === 0){\n       \n        dispatch(getAuthUserData());\n        setSubmitting(false);\n       \n      }\n      // else if(data.resultCode == 1){\n        \n      //   console.dir(data);\n      //   setErrors({ password: data.messages[0], email: data.messages[0], });\n      //   // setStatus({msg:data.messages[0]});\n      //   setSubmitting(false);\n      //   \n\n      // }\n      else if(response.resultCode !== 0){\n        // console.dir(data);\n       \n        setStatus({msg:response.messages[0]});\n        setSubmitting(false);\n      }\n      \n      \n   \n\n  };\n};\n\nexport const logout = () => {\n  return async (dispatch)=>{\n    let response  = await authAPI.logout();\n    \n     \n    if(response.resultCode === 0){\n      \n      dispatch(setAuthUserData(null,null,null,false));\n\n    }\n   \n\n  };\n};\n\n\n\n\nexport default authReducer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Header from './Header';\nimport {logout} from '../../redux/auth-reducer';\n\n\nclass HeaderContainer extends React.Component{\n\n    componentDidMount(){\n       \n    }\n\n    render(){\n        return (\n           <Header {...this.props}></Header>\n        );\n    }\n}\n\nlet mapStateToProps = (state)=>{\n    return {\n        auth:state.auth\n\n    };\n}\n\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport {login} from '../../redux/auth-reducer';\nimport { Redirect } from 'react-router-dom';\n\n\nclass LoginContainer extends React.Component {\n\n    componentDidMount() {\n\n\n    }\n\n    render() {\n        if(this.props.isAuth){\n            return <Redirect to={\"/profile\"}></Redirect>;\n        }\n        return (\n\n            <div>\n                <h2>Login</h2>\n                <LoginForm login={this.props.login} logout={this.props.logout}></LoginForm>\n\n\n            </div>\n        );\n    }\n\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        isAuth:state.auth.isAuth\n\n\n    };\n}\n\n\nconst LoginForm = ({login}) => {\n\n    const validateForm = (values) => {\n       \n        const errors = {};\n        if (!values.email) {\n            errors.email = 'Required';\n        } else if (\n            !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n        ) {\n            errors.email = 'Invalid email address';\n        }\n\n        if (!values.password) {\n            errors.password = 'Required Password';\n        }else if(values.password.length <= 6){\n            errors.password = 'password length should bee more than 6 charaters';\n        }\n        // if (!values.rememberMe) {\n        //     errors.rememberMe = 'Required';\n        // }\n\n        return errors;\n    };\n\n    const submitForm = (values, { setSubmitting ,setErrors,setStatus}) => {\n     \n       login(values.email,values.password,values.rememberMe,setSubmitting,setErrors,setStatus);\n       \n    };\n\n    return (\n        <div>\n            <Formik\n                initialValues={{ email: '', password: '',confirmPassword:'' }}\n                validate={validateForm}\n                onSubmit={submitForm}\n                initialStatus={{msg:\"status initial general error\",}}\n            >\n                {({ isSubmitting ,errors,status}) => (\n                    <Form>\n                        <div>\n                            <div style={{ color: 'red' }}>\n                                {status ? status.msg :'' }\n                            </div>\n                           \n                            <label htmlFor=\"email\">Email\n                            <Field type=\"email\" name=\"email\" disabled={isSubmitting} placeholder=\"email\" />\n                           \n                            <ErrorMessage name=\"email\">\n                                { msg => <div style={{ color: 'red' }}>{msg}</div> }\n                            </ErrorMessage>\n                            </label>\n                        </div>\n                        <div>\n                            <label htmlFor=\"password\">Password</label>\n                            <Field type=\"password\" name=\"password\" disabled={isSubmitting} placeholder=\"password\" />\n                          \n                            <ErrorMessage name=\"password\">\n                                { msg => <div style={{ color: 'red' }}>{msg}</div> }\n                           \n                            </ErrorMessage>\n                          \n                        </div>\n                       \n                        <div>\n                            <label htmlFor=\"rememberMe\">Remember me\n                            <Field type=\"checkbox\" name=\"rememberMe\" />\n                            </label>\n                            <ErrorMessage name=\"rememberMe\" component=\"div\" />\n                        </div>\n                        <div>\n                            <button type=\"submit\" disabled={isSubmitting}>\n                                Submit\n                            </button>\n\n                        </div>\n                        <div>\n                       \n                        </div>\n                      \n                       \n                       \n                    </Form>\n                )}\n            </Formik>\n        </div>\n    );\n}\n\n\n\nexport default connect(mapStateToProps, {login})(LoginContainer);","import { authAPI } from \"../api/api\";\nimport {getAuthUserData} from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\n\n\nlet initialState = {\n  initialized: false,\n  \n};\nconst appReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:{\n     \n      return {...state,initialized:true};\n\n    }\n     \n\n    default:\n      return state;\n  }\n};\n//****-ACTIONS-****\nexport const initializedSuccess = () => {\n  return { type: INITIALIZED_SUCCESS };\n};\n\n//****-THUNK_ACTIONS-****\nexport const initializeApp = () => {\n  return (dispatch)=>{\n    let promise = dispatch(getAuthUserData());\n   \n   // Promise.all([promise]) when all promises resolved does then\n    Promise.all([promise]).then(()=>{\n        dispatch(initializedSuccess());\n    });\n\n  };\n};\n\n\n\n\nexport default appReducer;\n","import React from 'react';\n\nimport s from './ProfileStatus.module.css';\n\n\nclass ProfileStatus extends React.Component {\n    \n    state = {\n        editMode:false,\n        status:this.props.status,\n        \n    }\n   \n    componentDidUpdate(prevProps,prevStatus){\n       \n        if(prevProps.status !== this.props.status){\n            this.setState({\n                status:this.props.status \n            })\n        }\n\n\n    }\n      \n    activateEditMode = ()=>{\n        this.setState({editMode:true});\n    }\n\n    deactivateEditMode = ()=>{\n        this.setState({editMode:false});\n        this.props.updateStatus(this.state.status);\n      \n    }\n\n    onStatusChange = (e)=>{\n       \n        this.setState({status:e.currentTarget.value});\n\n\n    }\n\n   \n    render() {\n\n        return (\n            <div className={s.profileStatus}>\n               \n               <div>status:{this.state.status}</div>\n                {!this.state.editMode &&\n                    (<div>\n                        <span onDoubleClick={()=>{ this.activateEditMode() }}>\n                           {this.props.status}\n                        </span>\n                    </div>)\n                }\n                {this.state.editMode && \n                    (<div>\n                        <input onChange={(e)=>{this.onStatusChange(e)}} autoFocus={true}  onBlur={()=>{this.deactivateEditMode()}} value={this.state.status} type=\"text\"  placeholder=\"set status\" />\n                    </div>)\n                }\n\n            </div>\n        );\n\n    }\n\n}\n\nexport default ProfileStatus;","import React, { useState } from \"react\";\nimport { Formik, Form, useField, useFormikContext } from \"formik\";\n\nconst MyTextInput = ({ label, ...props }) => {\n  \n    const [field, meta] = useField(props);\n   \n    return (\n      <>\n        <label htmlFor={props.id || props.name}>{label}</label>\n        <input className=\"text-input\" {...field} {...props} />\n        {meta.touched && meta.error ? (\n          <div className=\"error\">{meta.error}</div>\n        ) : null}\n      </>\n    );\n};\nconst MyCheckbox = ({ children, ...props }) => {\n    const [field, meta] = useField({ ...props, type: \"checkbox\" });\n    return (\n      <>\n        <label className=\"checkbox\">\n          <input {...field} {...props} type=\"checkbox\" />\n          {children}\n        </label>\n        {meta.touched && meta.error ? (\n          <div className=\"error\">{meta.error}</div>\n        ) : null}\n      </>\n    );\n  };\n  const MyTextArea = ({label, ...props}) => {\n    \n    const [field, meta] = useField(props);\n    return (\n        <>\n            <label htmlFor={props.id || props.name}>{label}</label><br/>\n            <textarea className=\"text-area\" {...field} {...props} />\n            {meta.touched && meta.error ? (\n                <div className=\"error\">{meta.error}</div>\n            ) : null}\n        </>\n    );\n  };\n\nconst ProfileDataForm = ({profile,handleSubmit})=>{\n    \n    // const [checked,setChecked] = useState(profile.lookingForAJob);\n\n   \n    \n    const initialValues = {\n        fullName: profile.fullName,\n        // lookingForAJob:checked,\n        lookingForAJob:profile.lookingForAJob?profile.lookingForAJob:\"\",\n        lookingForAJobDescription:profile.lookingForAJobDescription?profile.lookingForAJobDescription:\"\",\n        aboutMe:profile.aboutMe?profile.aboutMe:\"\",\n        contacts:profile.contacts,\n    }\n\n\n// console.log(initialValues);\n\n    return( \n        <div>\n           \n            <Formik\n                initialValues={initialValues }\n        \n                validate={(values)=>{\n                    const errors = {};\n                    if (!values.fullName) {\n                        errors.fullName = 'Required';\n                    } \n                    return errors;\n                }}\n       \n                onSubmit={(values, { setSubmitting, setFieldError,setStatus }) => {\n                    // if(!checked){\n                    //     delete values.lookingForAJobDescription;\n                    // }\n                   handleSubmit(values,setStatus);\n                   setSubmitting(false);\n                //    setFieldError(\"fullName\", \"errorMessage\");\n                }}\n            > \n            {({status}) => (  \n                <Form>\n                <div style={{ color: 'red' }}>\n                                {status ? status.msg :'' }\n                            </div>\n                    <div>\n                    <MyTextInput\n                        label=\"First Name\"\n                        name=\"fullName\"\n                        type=\"text\"\n                        placeholder=\"insert full name\"\n                        \n                    />\n                    </div>\n                    <div>\n                    <MyCheckbox name=\"lookingForAJob\"  >\n                        lookingForAJob\n                    </MyCheckbox>\n                    </div>\n                    {/* {checked && (\n                        <div>\n                        <MyTextArea \n                             label=\"Skills\"\n                             name=\"lookingForAJobDescription\"\n                             rows=\"6\"\n                             placeholder=\"insert skills\"\n                        />\n                        </div>\n                    )} */}\n\n                    <div>\n                        <MyTextArea \n                             label=\"Skills\"\n                             name=\"lookingForAJobDescription\"\n                             rows=\"6\"\n                             placeholder=\"insert skills\"\n                        />\n                        </div>\n                    \n                    <div>\n                    <MyTextArea \n                         label=\"About Me\"\n                         name=\"aboutMe\"\n                         rows=\"6\"\n                         placeholder=\"insert by yourself\"\n                    />\n                    </div> \n\n                    <div>\n                        <div> <b>Contacts:</b></div>\n                        {Object.keys(profile.contacts).map((key,index)=>(\n                            <div key={index} ><MyTextInput\n                                label={key}\n                                name={\"contacts.\"+key}\n                                type=\"text\"\n                                placeholder=\"insert valid url\"\n                                \n                            />\n                            </div>\n                        ))}\n                    </div>\n                    \n                    <button type=\"submit\">Submit</button>\n                </Form>\n                ) }\n            </Formik>\n        </div>\n\n    \n    );\n\n}\nexport default ProfileDataForm;\n\n","import React, { useState } from 'react';\nimport Spinner from '../../Commons/Spinner/Spinner';\nimport ProfileStatusWithHooks from '../ProfileStatus/ProfileStatusWithHooks';\nimport s from './ProfileInfo.module.css';\nimport defaultImgProfile from '../../../assets/images/default-avatar-icon.png' \nimport ProfileStatus from '../ProfileStatus/ProfileStatus';\nimport ProfileDataForm from '../ProfileDataForm/ProfileDataForm';\n\nconst ProfileInfo = ({profile,status,updateStatus,isOwner,savePhoto,saveProfile,...props}) => {\n\n    const [editMode,setEditMode] = useState(false);\n\n    //first render haven't data  \n    if (!profile) {\n        return <Spinner></Spinner>;\n    }\n    const onMainPhotoSelected = (e)=>{\n        if(e.target.files.length){\n            let file = e.target.files[0];\n            savePhoto(file);\n          \n\n        }\n       \n    }\n\n    const goToEditMode = (value)=>{\n        setEditMode(value);\n\n    }\n    const onSubmit = (values,setStatus)=>{\n        saveProfile(values,setStatus);\n        // setEditMode(false);\n\n        // alert(JSON.stringify(values));\n        // new Promise(r => setTimeout(()=>{alert(JSON.stringify(values))}, 500));\n       \n    }\n\n   console.log(profile);\n    return (\n        <div className={s.profileInfo}>\n            {/* <img src=\"https://p.bigstockphoto.com/GeFvQkBbSLaMdpKXF1Zv_bigstock-Aerial-View-Of-Blue-Lakes-And--227291596.jpg\" alt=\"\" /> */}\n\n           \n            <div className={s.profileInfoContainer}>\n                <div>\n                    {profile.photos.large ? ( <img className={s.avatar} src={profile.photos.large} alt=\"\" />) : \n                        ( <img className={s.avatar} src={defaultImgProfile} alt=\"\" />)\n                    }\n                    {isOwner && (<div><input type=\"file\" onChange={(e)=>{onMainPhotoSelected(e)}}/></div>)}\n                   \n                </div>\n                <div>\n                    {/* <ProfileStatusWithHooks  status={status} updateStatus={updateStatus}/ > */}\n                    {isOwner?(<ProfileStatus status={status} updateStatus={updateStatus}></ProfileStatus>):(<div>{status}</div>)} \n                \n                </div>\n               \n               \n               {editMode ? \n                <ProfileDataForm profile={profile} handleSubmit={onSubmit}/> : \n                <ProfileData profile={profile} isOwner={isOwner} goToEditMode={()=>goToEditMode(true)}/> \n                }\n               \n               \n\n            </div>\n\n\n\n        </div>\n    );\n}\n\nconst ProfileData = ({profile,isOwner,goToEditMode})=>{\n\n    return( \n        <div>\n            <div>\n                {isOwner && <button onClick={goToEditMode}>Edit</button>}\n            </div>\n        \n            <div>\n                <b>User Id:</b>{profile.userId}\n            </div>\n            <div>\n                <b>Full name:</b>{profile.fullName}\n            </div>\n            <div>\n                <b>About me:</b>{profile.aboutMe}\n            </div>\n            <div>\n                <b>Looking for job:</b>{profile.lookingForAJob?\"yes\":\"no\"}\n            </div>\n            {profile.lookingForAJob?(<div> <b>Skills:</b>:{ profile.lookingForAJobDescription}</div>):\"\"}\n            <div>\n                <b>Contacts:</b>{Object.keys(profile.contacts).map((key,index)=><Contact contactTitle={key} contactValue={profile.contacts[key]} key={index}></Contact>)}\n            </div>\n        </div>\n\n    \n    );\n}\n\n\nconst Contact = ({contactTitle,contactValue})=>{\n    return <div> <b>{contactTitle}</b>:{contactValue}</div>\n\n}\n\nexport default ProfileInfo;","import { profileAPI, usersAPI } from \"../api/api\";\n\nconst ADD_POST = \"ADD-POST\";\nconst UPDATE_POST = \"UPDATE-POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\nconst SET_STATUS = \"SET_STATUS\";\nconst DELETE_POST =\"DELETE_POST\";\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\n\nlet initialState = {\n  newPostValue: \"new post\",\n  posts: [\n    { id: 1, message: \"My post1\" },\n    { id: 2, message: \"Post 2\" },\n    { id: 3, message: \"Post 3\" },\n  ],\n  profileId: 2,\n  profile: null,\n  status:\"\",\n};\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST: {\n      let newPost = { id: 4, message: action.text };\n      return { ...state, posts: [...state.posts, newPost], newPostValue: \"\" };\n    }\n    case DELETE_POST:{\n      return {...state,posts:state.posts.filter(post=>post.id!=action.postId)}\n    }\n    case UPDATE_POST: {\n      return { ...state, newPostValue: action.newText };\n    }\n    case SET_USER_PROFILE: {\n      return { ...state, profile: action.profile };\n    }\n    case SET_STATUS:{\n      return {...state,status:action.status};\n    }\n    case SAVE_PHOTO_SUCCESS:{\n    \n      return {...state,profile:{...state.profile,photos:action.photos}};\n    }\n\n    default:\n      return state;\n  }\n};\n//****-ACTIONS-****\nexport const addPostAC = (text) => {\n  return { type: ADD_POST,text:text };\n};\n\nexport const deletePost = (postId) => {\n  return { type: DELETE_POST,postId:postId };\n};\n\nexport const updatePostAC = (newText) => {\n  return { type: UPDATE_POST, newText: newText };\n};\n\nexport const setUserProfile = (profile) => {\n  return { type: SET_USER_PROFILE, profile };\n};\n\nexport const setStatus = (status) => {\n  return { type: SET_STATUS, status };\n};\nexport const savePhotoSuccess = (photos) => {\n  return { type: SAVE_PHOTO_SUCCESS, photos };\n};\n\n\n\n\nexport const getUserProfile = (userId) => {\n  \n  return async (dispatch) => {\n    let response = await usersAPI.getProfileData(userId);\n    \n    //need transform null to '' for formik initial values\n    for(let[key,val] of Object.entries(response.contacts)){\n   \n      if(val === null){\n        response.contacts[key] = '';\n      }\n    }\n    dispatch(setUserProfile(response));\n    \n  };\n};\n\nexport const getStatus = (userId) => {\n  \n  return async(dispatch) => {\n   \n    let response = await profileAPI.getStatus(userId);\n    dispatch(setStatus(response));\n  \n  };\n};\n\nexport const updateStatus = (status) => {\n  \n  return async(dispatch) => {\n   \n    let response = await profileAPI.updateStatus(status);\n\n    if(response.resultCode === 0 ){\n     \n      dispatch(setStatus(status));\n    \n\n    }\n     \n    \n  };\n};\n\n\nexport const savePhoto = (file)=>{\n  return async (dispatch)=>{\n    let data = await profileAPI.savePhoto(file);\n    \n    if(data.resultCode === 0 ){\n      //put return data.photos\n      let photos = data.data.photos;\n   \n      dispatch(savePhotoSuccess(photos));\n    }\n\n\n  }\n}\n\nexport const saveProfile = (profile,setStatus)=>{\n  return async (dispatch,getState)=>{\n    let state  = getState();\n    let response = await profileAPI.saveProfile(profile);\n\n   \n    if(response.resultCode === 0 ){\n\n      dispatch(getUserProfile(state.auth.userId));\n     \n    }else{\n      setStatus({msg:response.messages[0]});\n    }\n\n\n  }\n}\n\n\n\nexport default profileReducer;\n","import React from 'react';\nimport s from './Post.module.css';\n\nconst Post = (props) => {\n    return (\n        \n            \n        <div className={s.item}>\n            <img src=\"https://www.w3schools.com/howto/img_avatar.png\" alt=\"\"/> {props.message}\n        \n        </div>\n                \n            \n        \n        \n    );\n\n\n\n}\n\nexport default  Post;","import React, { PureComponent } from 'react';\nimport s from './MyPosts.module.css';\n\nimport Post from './Post/Post';\n\n\n\nclass MyPosts extends PureComponent  {\n\n    \n    \nrender(){\n//    console.log(\"RENDER\");\n    let newPostElement = React.createRef();\n\n    let addPostHandle = ()=>{\n        let  text = newPostElement.current.value;\n      this.props.addPost(text);\n       \n    }\n\n    let updatePostHandle =()=>{\n       \n        let  text = newPostElement.current.value;\n       this.props.updateNewPostText(text);\n\n\n    }\n  \n\n    let postsMap = this.props.posts.map((postItem) => { return <Post message={postItem.message} id={postItem.id} key={postItem.id}/> });\n     return (\n      \n        <div className={s.postsBlock}>\n           \n            <h2>My Posts</h2>\n            <div>\n                <div>\n                    <textarea ref={newPostElement} value={this.props.newTextPost?this.props.newTextPost:''} onChange={updatePostHandle}></textarea>\n                </div>\n                <div>\n                    <button onClick={addPostHandle}>Add Post</button>\n                    <button>Remove</button>\n                </div>\n\n            </div>\n\n\n            <div className={s.posts}>\n                \n                {postsMap}\n            </div>\n\n        </div>\n    );\n};\n   \n\n\n\n}\n\nexport default MyPosts;","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { addPostAC, updatePostAC } from '../../../redux/profile-reducer';\nimport MyPosts from './MyPosts';\n\n\nconst mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n        newTextPost: state.profilePage.newPostValue,\n\n    };\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (msg) => { dispatch(addPostAC(msg)) },\n        updateNewPostText: (text) => { dispatch(updatePostAC(text)) },\n\n    };\n}\n\nlet MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;","import React from 'react';\n// import s from './Profile.module.css';\n\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\n\nconst Profile = (props) => {\n\n    return (\n        <div>\n\n            <ProfileInfo \n                isOwner={props.isOwner} \n                profile={props.profile} \n                status={props.status} \n                updateStatus={props.updateStatus} \n                savePhoto={props.savePhoto}\n                saveProfile={props.saveProfile}\n            />\n            <MyPostsContainer/>\n\n\n        </div>\n    );\n\n\n\n}\n\nexport default Profile;","import React  from 'react';\nimport { connect } from 'react-redux';\nimport Profile from './Profile';\nimport {getUserProfile,getStatus,updateStatus,savePhoto,saveProfile} from '../../redux/profile-reducer';\nimport {withRouter} from 'react-router-dom';\nimport { compose } from 'redux';\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\n\nclass ProfileContainer extends React.Component{\n\n  refreshProfile(){\n   \n    let userId = this.props.match.params.userId;\n     \n    if(!userId ){\n      userId = this.props.authorizedUserId;\n    \n      // userId=1250;\n     \n      if(!userId){\n        this.props.history.push(\"/login\"); \n     \n      }\n    }\n  \n    this.props.getUserProfile(userId);\n    this.props.getStatus(userId);\n  }\n   \n    componentDidMount(){  \n      this.refreshProfile();\n     \n    }\n\n    componentDidUpdate(prevProps,prevState,snapshot){\n    \n      if(this.props.match.params.userId != prevProps.match.params.userId){\n       \n        this.refreshProfile();\n      }\n     \n    }\n\n   \n\n    render(){\n     \n\n        return <>\n            <Profile {...this.props} \n                isOwner = {!this.props.match.params.userId} \n                profile={this.props.profile} \n                status={this.props.status}\n                updateStatus={this.props.updateStatus}\n                savePhoto={this.props.savePhoto}\n                saveProfile={this.props.saveProfile}\n               \n            ></Profile>\n        \n        </>;\n    }\n\n}\n\n// let AuthRedirectComponent =  withAuthRedirect(ProfileContainer);\n\nlet mapStateToProps = (state)=>{\n    return{\n       profile:state.profilePage.profile,\n       status:state.profilePage.status,\n       authorizedUserId:state.auth.userId,\n    };\n}\n\n// let withUrlDataContainerComponent = withRouter(AuthRedirectComponent);\n\n// export default connect(mapStateToProps,{getUserProfile})(withUrlDataContainerComponent);\n\nexport default compose(\n    connect(mapStateToProps,{getUserProfile,getStatus,updateStatus,savePhoto,saveProfile}),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer);","import React from \"react\";\nimport {  Route, withRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar/Navbar\";\n\n\n\n\nimport UsersContainer from \"./components/Users/UsersContainer\";\n\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginContainerFormik from \"./components/Login/LoginContainerFormik\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/Commons/Spinner/Spinner\";\n\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport { withSuspense } from \"./hoc/withSuspense\";\n// const OtherComponent = React.lazy(() => import('./OtherComponent'));\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\n\n\n\n\nclass App extends React.Component {\n\n  componentDidMount(){\n    this.props.initializeApp();\n  }\n  render(){\n    if(!this.props.initialized){\n      return <Preloader></Preloader>\n\n    }\n    return (\n      \n      <div className=\"app-wrapper\">\n      \n          <HeaderContainer></HeaderContainer>\n          <Navbar></Navbar>\n          <div className=\"app-wrapper-content\">\n            <Route path=\"/dialogs\" render={withSuspense(DialogsContainer) } />\n            {/* :userId? userId there is parameter and ? there is optional */}\n            <Route path=\"/profile/:userId?\" render={()=> <ProfileContainer/> } />\n            <Route path=\"/users\" render={()=> <UsersContainer/> } />\n            <Route path=\"/login\" render={()=> <LoginContainerFormik></LoginContainerFormik> } />\n          </div>\n        \n      </div>\n    );\n\n  }\n \n};\n\nconst mapStateToProps = (state) => {\n  return {\n     initialized:state.app.initialized,\n     \n  };\n}\n\nexport default compose(\n  connect(mapStateToProps,{initializeApp}),\n  withRouter,\n \n)(App);\n","import React, { Suspense } from 'react';\nimport Preloader from '../components/Commons/Spinner/Spinner';\n\nexport const withSuspense = (Component) => {\n  \n    return (props)=>{\n        return <React.Suspense fallback={<div>Loading..</div>}>\n                <Component {...props} />\n            </React.Suspense>\n        \n    \n    };\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {applyMiddleware, combineReducers, createStore,compose} from 'redux';\nimport authReducer from './auth-reducer';\nimport dialogReducer from './dialogs-reducer';\nimport profileReducer from './profile-reducer';\nimport usersReducer from './users-reducer';\nimport appReducer from './app-reducer';\nimport thunk from 'redux-thunk';\n\nlet reducers = combineReducers({\n    dialogsPage:dialogReducer,\n    profilePage:profileReducer,\n    usersPage:usersReducer,\n    auth:authReducer,\n    app:appReducer,\n\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers,  composeEnhancers(\n\n    applyMiddleware(thunk)\n  ));\n\n\n\n// let store = createStore(reducers, applyMiddleware(thunk));\n\nwindow.__store__ = store;\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport {Provider} from 'react-redux';\n\nimport store from \"./redux/store\";\n\n\n \n  ReactDOM.render(\n    <BrowserRouter basename={process.env.PUBLIC_URL }>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n    ,document.getElementById(\"root\")\n  );\n\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}