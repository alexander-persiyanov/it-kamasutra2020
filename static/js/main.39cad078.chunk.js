(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,a){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",activeLink:"Navbar_activeLink__3etBE"}},28:function(e,t,a){e.exports={paginationContainer:"Paginator_paginationContainer__sRht1",paginationWrapper:"Paginator_paginationWrapper__1b3Mc",btnNav:"Paginator_btnNav__38cGb",item:"Paginator_item__1hKRH",active:"Paginator_active__CeI7B"}},31:function(e,t,a){e.exports={header:"Header_header__1VCKf",AppLogo:"Header_AppLogo__nsysM","App-logo-spin":"Header_App-logo-spin__1AZMH",AppHeader:"Header_AppHeader__1G89E",loginBlock:"Header_loginBlock__6mma5",logoContainer:"Header_logoContainer__gaEZM"}},32:function(e,t,a){e.exports={description:"ProfileInfo_description__2yWda",profileInfoContainer:"ProfileInfo_profileInfoContainer__2AB0E",avatar:"ProfileInfo_avatar__3xuFq"}},37:function(e,t){e.exports="data:image/png;base64,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"},40:function(e,t,a){e.exports={profileStatus:"ProfileStatus_profileStatus__3wB7u"}},47:function(e,t,a){e.exports={userItem:"UserItem_userItem__2K1XX",avatar:"UserItem_avatar__3_Njk"}},48:function(e,t,a){e.exports={overlay:"Spinner_overlay__3BBkk",ldsSpinner:"Spinner_ldsSpinner__2KopQ"}},49:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},59:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(7),r=a(8),o=a(10),s=a(9),l=a(0),i=a.n(l),c=a(6),u=a(3),p=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){Object(o.a)(l,t);var a=Object(s.a)(l);function l(){return Object(n.a)(this,l),a.apply(this,arguments)}return Object(r.a)(l,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(u.a,{to:"/login"})}}]),l}(i.a.Component);return Object(c.b)(p)(t)}},60:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l}));var n=a(27),r=a(1),o={dialogs:[{id:1,name:"Alex"},{id:2,name:"Ivan"},{id:3,name:"Roberta"}],messages:[{id:1,message:"Hello"},{id:2,message:"Hou are you?"},{id:3,message:"Thanks, im good and you?"}],newMessageBody:""},s=function(){return{type:"SEND-MESSAGE"}},l=function(e){return{type:"UPDATE-NEW-MESSAGE-BODY",bodyMessage:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE-NEW-MESSAGE-BODY":return Object(r.a)(Object(r.a)({},e),{},{newMessageBody:t.bodyMessage});case"SEND-MESSAGE":var a=e.newMessageBody;return Object(r.a)(Object(r.a)({},e),{},{newMessageBody:"",messages:[].concat(Object(n.a)(e.messages),[{id:4,message:a}])});default:return e}}},62:function(e,t,a){},63:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},66:function(e,t,a){e.exports={item:"Post_item__ihtu9"}},69:function(e,t,a){e.exports=a(99)},74:function(e,t,a){},75:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),s=a.n(o),l=(a(74),a(7)),i=a(8),c=a(10),u=a(9),p=a(3),m=(a(75),a(13)),d=a(21),f=a.n(d),A=function(){return r.a.createElement("nav",{className:f.a.nav},r.a.createElement("div",{className:f.a.item},r.a.createElement(m.b,{to:"/profile",activeClassName:f.a.activeLink},"Profile")),r.a.createElement("div",{className:f.a.item},r.a.createElement(m.b,{to:"/dialogs",activeClassName:f.a.activeLink},"Messages")),r.a.createElement("div",{className:f.a.item},r.a.createElement(m.b,{to:"/users",activeClassName:f.a.activeLink},"Users")),r.a.createElement("div",{className:f.a.item},r.a.createElement("a",{href:""},"More")),r.a.createElement("div",{className:f.a.item},"Music"))},g=a(6),E=a(2),h=a.n(E),v=a(11),b=a(27),w=a(1),O=a(42),C=a.n(O).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"a5008e7c-13ed-4c09-91fb-8786d1dab1cb"}}),S=function(){return C.get("/auth/me").then((function(e){return e.data}))},j=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return C.post("/auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},P=function(){return C.delete("/auth/login").then((function(e){return e.data}))},y={getUsers:function(e,t){return C.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return C.post("follow/"+e).then((function(e){return e.data}))},unfollow:function(e){return C.delete("follow/"+e).then((function(e){return e.data}))},getProfileData:function(e){return console.warn("Obsolete method.Please profileAPI object."),B.getProfileData(e)}},B={getProfileData:function(e){return C.get("profile/"+e).then((function(e){return e.data}))},updateStatus:function(e){return C.put("profile/status",{status:e}).then((function(e){return e.data}))},getStatus:function(e){return C.get("profile/status/"+e).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),C.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},saveProfile:function(e){return C.put("profile",e).then((function(e){return e.data}))}},I=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(w.a)(Object(w.a)({},e),n):e}))},k={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},N=function(e){return{type:"FOLLOW",userId:e}},Q=function(e){return{type:"UNFOLLOW",userId:e}},U=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},D=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},x=function(e,t){return{type:"FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}},M=function(){var e=Object(v.a)(h.a.mark((function e(t,a,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(x(!0,a)),e.next=3,n(a);case 3:0==e.sent.resultCode&&(t(r(a)),t(x(!1,a)));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(w.a)(Object(w.a)({},e),{},{users:I(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(w.a)(Object(w.a)({},e),{},{users:I(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(w.a)(Object(w.a)({},e),{},{users:Object(b.a)(t.users)});case"SET_CURRENT_PAGE":return Object(w.a)(Object(w.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(w.a)(Object(w.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(w.a)(Object(w.a)({},e),{},{isFetching:t.isFetching});case"FOLLOWING_IN_PROGRESS":return Object(w.a)(Object(w.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(b.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},_=a(26),T=a(62),H=a.n(T),L=a(37),G=a.n(L),R=a(47),J=a.n(R),K=function(e){return r.a.createElement("div",{className:J.a.userItem},r.a.createElement("div",null,r.a.createElement(m.b,{to:"/profile/"+e.user.id},r.a.createElement("img",{className:J.a.avatar,src:e.user.photos.small?e.user.photos.small:e.defaultAvatar,alt:""}))),r.a.createElement("div",null,e.user.id," "),r.a.createElement("div",null,e.user.name," "),r.a.createElement("div",null,e.user.status," "),r.a.createElement("div",null,r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){var t;t=e.user.id,e.user.followed?e.onUnfollow(t):e.onFollow(t)}},e.user.followed?"unfollow":"follow")))},Y=a(16),X=a(28),V=a.n(X),z=function(e){for(var t=e.totalItemsCount,a=e.pageSize,o=e.currentPage,s=e.onPageChanged,l=e.portionSize,i=void 0===l?10:l,c=Object(n.useState)(1),u=Object(Y.a)(c,2),p=u[0],m=u[1],d=Math.ceil(t/a),f=[],A=i*(p-1),g=i*p,E=1;E<=d;E++)f.push(E);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null," Page ",r.a.createElement("span",{style:{color:"red"}},r.a.createElement("b",null,o))," of ",r.a.createElement("i",null,d))),r.a.createElement("div",{className:V.a.paginationWrapper},r.a.createElement("div",{className:V.a.btnNav}," ",r.a.createElement("button",{disabled:!(p>1),onClick:function(){m(p-1)}}," ","<"," ")),r.a.createElement("div",{className:V.a.paginationContainer},f.filter((function(e,t){return t>=A&&t<g})).map((function(e,t){return r.a.createElement("div",{key:t,className:"".concat(V.a.item," ").concat(o===e?V.a.active:""),onClick:function(){s(e)}},e)}))),r.a.createElement("div",{className:V.a.btnNav},r.a.createElement("button",{disabled:!(p<Math.ceil(d/i)),onClick:function(){m(p+1)}},"   ",">"," "))))},Z=function(e){var t=e.users,a=e.followingInProgress,n=e.onFollow,o=e.onUnfollow,s=e.totalUsersCount,l=e.pageSize,i=e.currentPage,c=e.onPageChanged,u=(Object(_.a)(e,["users","followingInProgress","onFollow","onUnfollow","totalUsersCount","pageSize","currentPage","onPageChanged"]),t.map((function(e){return r.a.createElement(K,{key:e.id,user:e,followingInProgress:a,defaultAvatar:G.a,onFollow:n,onUnfollow:o})})));return r.a.createElement("div",{className:H.a.users},r.a.createElement("h2",null,"Users List"),r.a.createElement("div",null,u),r.a.createElement(z,{totalItemsCount:s,pageSize:l,currentPage:i,onPageChanged:c}))},q=a(48),W=a.n(q),$=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:W.a.overlay},r.a.createElement("div",{className:W.a.ldsSpinner},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))},ee=a(68),te=Object(ee.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ae=function(e){return e.usersPage.pageSize},ne=function(e){return e.usersPage.totalUsersCount},re=function(e){return e.usersPage.currentPage},oe=function(e){return e.usersPage.isFetching},se=function(e){return e.usersPage.followingInProgress},le=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.requestUsers(t,e.props.pageSize)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,onFollow:this.props.follow,onUnfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}),this.props.isFetching?r.a.createElement($,null):"")}}]),a}(r.a.Component),ie=Object(g.b)((function(e){return{users:te(e),pageSize:ae(e),totalUsersCount:ne(e),currentPage:re(e),isFetching:oe(e),followingInProgress:se(e)}}),{setCurrentPage:U,requestUsers:function(e,t){return function(){var a=Object(v.a)(h.a.mark((function a(n){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(D(!0)),n(U(e)),a.next=4,y.getUsers(e,t);case 4:r=a.sent,n(D(!1)),n({type:"SET_USERS",users:r.items}),n({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:r.totalCount});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},follow:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=y.follow.bind(y),M(a,e,n,N);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=y.unfollow.bind(y),M(a,e,n,Q);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(le),ce=a(31),ue=a.n(ce),pe=a(63),me=a.n(pe),de=function(e){return r.a.createElement("header",{className:ue.a.AppHeader},r.a.createElement("div",{className:ue.a.logoContainer},r.a.createElement("img",{src:me.a,className:ue.a.AppLogo,alt:"logo"})),r.a.createElement("div",{className:ue.a.loginBlock},e.auth.isAuth?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,e.auth.userId),r.a.createElement("div",null,e.auth.login),r.a.createElement("button",{onClick:e.logout},"Logout"))):r.a.createElement(m.b,{to:"/login"},"Login")))},fe="samurai-network/auth/SET_USER_DATA",Ae={userId:null,email:null,login:null,isAuth:!1,errors:null},ge=function(e,t,a,n){return{type:fe,payload:{userId:e,email:t,login:a,isAuth:n}}},Ee=function(){return function(){var e=Object(v.a)(h.a.mark((function e(t){var a,n,r,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:0===(a=e.sent).resultCode&&(n=a.data,r=n.id,o=n.login,s=n.email,t(ge(r,s,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(w.a)(Object(w.a)(Object(w.a)({},e),t.payload),{},{isAuth:t.payload.isAuth});default:return e}},ve=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(de,this.props)}}]),a}(r.a.Component),be=Object(g.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:0===e.sent.resultCode&&t(ge(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ve),we=a(12),Oe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.props.isAuth?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),r.a.createElement(Ce,{login:this.props.login,logout:this.props.logout}))}}]),a}(r.a.Component),Ce=function(e){var t=e.login;return r.a.createElement("div",null,r.a.createElement(we.d,{initialValues:{email:"",password:"",confirmPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<=6&&(t.password="password length should bee more than 6 charaters"):t.password="Required Password",t},onSubmit:function(e,a){var n=a.setSubmitting,r=a.setErrors,o=a.setStatus;t(e.email,e.password,e.rememberMe,n,r,o)},initialStatus:{msg:"status initial general error"}},(function(e){var t=e.isSubmitting,a=(e.errors,e.status);return r.a.createElement(we.c,null,r.a.createElement("div",null,r.a.createElement("div",{style:{color:"red"}},a?a.msg:""),r.a.createElement("label",{htmlFor:"email"},"Email",r.a.createElement(we.b,{type:"email",name:"email",disabled:t,placeholder:"email"}),r.a.createElement(we.a,{name:"email"},(function(e){return r.a.createElement("div",{style:{color:"red"}},e)})))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(we.b,{type:"password",name:"password",disabled:t,placeholder:"password"}),r.a.createElement(we.a,{name:"password"},(function(e){return r.a.createElement("div",{style:{color:"red"}},e)}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"rememberMe"},"Remember me",r.a.createElement(we.b,{type:"checkbox",name:"rememberMe"})),r.a.createElement(we.a,{name:"rememberMe",component:"div"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",disabled:t},"Submit")),r.a.createElement("div",null))})))},Se=Object(g.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,a,n,r,o){return function(){var r=Object(v.a)(h.a.mark((function r(s){var l;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j(e,t,a);case 2:0===(l=r.sent).resultCode?(s(Ee()),n(!1)):0!==l.resultCode&&(o({msg:l.messages[0]}),n(!1));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})(Oe),je=a(19),Pe={initialized:!1},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{initialized:!0});default:return e}},Be=a(40),Ie=a.n(Be),ke=a(32),Ne=a.n(ke),Qe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Ie.a.profileStatus},r.a.createElement("div",null,"status:",this.state.status),!this.state.editMode&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){e.activateEditMode()}},this.props.status)),this.state.editMode&&r.a.createElement("div",null,r.a.createElement("input",{onChange:function(t){e.onStatusChange(t)},autoFocus:!0,onBlur:function(){e.deactivateEditMode()},value:this.state.status,type:"text",placeholder:"set status"})))}}]),a}(r.a.Component),Ue=function(e){var t=e.label,a=Object(_.a)(e,["label"]),n=Object(we.e)(a),o=Object(Y.a)(n,2),s=o[0],l=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a.id||a.name},t),r.a.createElement("input",Object.assign({className:"text-input"},s,a)),l.touched&&l.error?r.a.createElement("div",{className:"error"},l.error):null)},De=function(e){var t=e.children,a=Object(_.a)(e,["children"]),n=Object(we.e)(Object(w.a)(Object(w.a)({},a),{},{type:"checkbox"})),o=Object(Y.a)(n,2),s=o[0],l=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",Object.assign({},s,a,{type:"checkbox"})),t),l.touched&&l.error?r.a.createElement("div",{className:"error"},l.error):null)},xe=function(e){var t=e.label,a=Object(_.a)(e,["label"]),n=Object(we.e)(a),o=Object(Y.a)(n,2),s=o[0],l=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a.id||a.name},t),r.a.createElement("br",null),r.a.createElement("textarea",Object.assign({className:"text-area"},s,a)),l.touched&&l.error?r.a.createElement("div",{className:"error"},l.error):null)},Me=function(e){var t=e.profile,a=e.handleSubmit,n={fullName:t.fullName,lookingForAJob:t.lookingForAJob?t.lookingForAJob:"",lookingForAJobDescription:t.lookingForAJobDescription?t.lookingForAJobDescription:"",aboutMe:t.aboutMe?t.aboutMe:"",contacts:t.contacts};return r.a.createElement("div",null,r.a.createElement(we.d,{initialValues:n,validate:function(e){var t={};return e.fullName||(t.fullName="Required"),t},onSubmit:function(e,t){var n=t.setSubmitting,r=(t.setFieldError,t.setStatus);a(e,r),n(!1)}},(function(e){var a=e.status;return r.a.createElement(we.c,null,r.a.createElement("div",{style:{color:"red"}},a?a.msg:""),r.a.createElement("div",null,r.a.createElement(Ue,{label:"First Name",name:"fullName",type:"text",placeholder:"insert full name"})),r.a.createElement("div",null,r.a.createElement(De,{name:"lookingForAJob"},"lookingForAJob")),r.a.createElement("div",null,r.a.createElement(xe,{label:"Skills",name:"lookingForAJobDescription",rows:"6",placeholder:"insert skills"})),r.a.createElement("div",null,r.a.createElement(xe,{label:"About Me",name:"aboutMe",rows:"6",placeholder:"insert by yourself"})),r.a.createElement("div",null,r.a.createElement("div",null," ",r.a.createElement("b",null,"Contacts:")),Object.keys(t.contacts).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(Ue,{label:e,name:"contacts."+e,type:"text",placeholder:"insert valid url"}))}))),r.a.createElement("button",{type:"submit"},"Submit"))})))},Fe=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return r.a.createElement("div",null,r.a.createElement("div",null,a&&r.a.createElement("button",{onClick:n},"Edit")),r.a.createElement("div",null,r.a.createElement("b",null,"User Id:"),t.userId),r.a.createElement("div",null,r.a.createElement("b",null,"Full name:"),t.fullName),r.a.createElement("div",null,r.a.createElement("b",null,"About me:"),t.aboutMe),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for job:"),t.lookingForAJob?"yes":"no"),t.lookingForAJob?r.a.createElement("div",null," ",r.a.createElement("b",null,"Skills:"),":",t.lookingForAJobDescription):"",r.a.createElement("div",null,r.a.createElement("b",null,"Contacts:"),Object.keys(t.contacts).map((function(e,a){return r.a.createElement(_e,{contactTitle:e,contactValue:t.contacts[e],key:a})}))))},_e=function(e){var t=e.contactTitle,a=e.contactValue;return r.a.createElement("div",null," ",r.a.createElement("b",null,t),":",a)},Te=function(e){var t=e.profile,a=e.status,o=e.updateStatus,s=e.isOwner,l=e.savePhoto,i=e.saveProfile,c=(Object(_.a)(e,["profile","status","updateStatus","isOwner","savePhoto","saveProfile"]),Object(n.useState)(!1)),u=Object(Y.a)(c,2),p=u[0],m=u[1];if(!t)return r.a.createElement($,null);return console.log(t),r.a.createElement("div",{className:Ne.a.profileInfo},r.a.createElement("div",{className:Ne.a.profileInfoContainer},r.a.createElement("div",null,t.photos.large?r.a.createElement("img",{className:Ne.a.avatar,src:t.photos.large,alt:""}):r.a.createElement("img",{className:Ne.a.avatar,src:G.a,alt:""}),s&&r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:function(e){!function(e){if(e.target.files.length){var t=e.target.files[0];l(t)}}(e)}}))),r.a.createElement("div",null,s?r.a.createElement(Qe,{status:a,updateStatus:o}):r.a.createElement("div",null,a)),p?r.a.createElement(Me,{profile:t,handleSubmit:function(e,t){i(e,t)}}):r.a.createElement(Fe,{profile:t,isOwner:s,goToEditMode:function(){m(!0)}})))},He={newPostValue:"new post",posts:[{id:1,message:"My post1"},{id:2,message:"Post 2"},{id:3,message:"Post 3"}],profileId:2,profile:null,status:""},Le=function(e){return{type:"SET_STATUS",status:e}},Ge=function(e){return{type:"SAVE_PHOTO_SUCCESS",photos:e}},Re=function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r,o,s,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getProfileData(e);case 2:for(n=t.sent,r=0,o=Object.entries(n.contacts);r<o.length;r++)s=Object(Y.a)(o[r],2),l=s[0],null===s[1]&&(n.contacts[l]="");a({type:"SET_USER_PROFILE",profile:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={id:4,message:t.text};return Object(w.a)(Object(w.a)({},e),{},{posts:[].concat(Object(b.a)(e.posts),[a]),newPostValue:""});case"DELETE_POST":return Object(w.a)(Object(w.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case"UPDATE-POST":return Object(w.a)(Object(w.a)({},e),{},{newPostValue:t.newText});case"SET_USER_PROFILE":return Object(w.a)(Object(w.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(w.a)(Object(w.a)({},e),{},{status:t.status});case"SAVE_PHOTO_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{profile:Object(w.a)(Object(w.a)({},e.profile),{},{photos:t.photos})});default:return e}},Ke=a(49),Ye=a.n(Ke),Xe=a(66),Ve=a.n(Xe),ze=function(e){return r.a.createElement("div",{className:Ve.a.item},r.a.createElement("img",{src:"https://www.w3schools.com/howto/img_avatar.png",alt:""})," ",e.message)},Ze=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createRef(),a=this.props.posts.map((function(e){return r.a.createElement(ze,{message:e.message,id:e.id,key:e.id})}));return r.a.createElement("div",{className:Ye.a.postsBlock},r.a.createElement("h2",null,"My Posts"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("textarea",{ref:t,value:this.props.newTextPost?this.props.newTextPost:"",onChange:function(){var a=t.current.value;e.props.updateNewPostText(a)}})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){var a=t.current.value;e.props.addPost(a)}},"Add Post"),r.a.createElement("button",null,"Remove"))),r.a.createElement("div",{className:Ye.a.posts},a))}}]),a}(n.PureComponent),qe=Object(g.b)((function(e){return{posts:e.profilePage.posts,newTextPost:e.profilePage.newPostValue}}),(function(e){return{addPost:function(t){e({type:"ADD-POST",text:t})},updateNewPostText:function(t){e({type:"UPDATE-POST",newText:t})}}}))(Ze),We=function(e){return r.a.createElement("div",null,r.a.createElement(Te,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),r.a.createElement(qe,null))},$e=a(59),et=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(We,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})))}}]),a}(r.a.Component),tt=Object(je.d)(Object(g.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),{getUserProfile:Re,getStatus:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.getStatus(e);case 2:n=t.sent,a(Le(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.updateStatus(e);case 2:0===t.sent.resultCode&&a(Le(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.savePhoto(e);case 2:0===(n=t.sent).resultCode&&(r=n.data.photos,a(Ge(r)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e,t){return function(){var a=Object(v.a)(h.a.mark((function a(n,r){var o,s;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r(),a.next=3,B.saveProfile(e);case 3:0===(s=a.sent).resultCode?n(Re(o.auth.userId)):t({msg:s.messages[0]});case 5:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}}),p.f,$e.a)(et),at=r.a.lazy((function(){return a.e(3).then(a.bind(null,103))})),nt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(be,null),r.a.createElement(A,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(p.b,{path:"/dialogs",render:(e=at,function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading..")},r.a.createElement(e,t))})}),r.a.createElement(p.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(tt,null)}}),r.a.createElement(p.b,{path:"/users",render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(p.b,{path:"/login",render:function(){return r.a.createElement(Se,null)}}))):r.a.createElement($,null);var e}}]),a}(r.a.Component),rt=Object(je.d)(Object(g.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Ee());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}),p.f)(nt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ot=a(60),st=a(67),lt=Object(je.c)({dialogsPage:ot.a,profilePage:Je,usersPage:F,auth:he,app:ye}),it=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.d,ct=Object(je.e)(lt,it(Object(je.a)(st.a)));window.__store__=ct;var ut=ct;s.a.render(r.a.createElement(m.a,{basename:"/it-kamasutra2020"},r.a.createElement(g.a,{store:ut},r.a.createElement(rt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.39cad078.chunk.js.map