(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(e,t,a){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",activeLink:"Navbar_activeLink__3etBE"}},26:function(e,t,a){e.exports={paginationContainer:"Paginator_paginationContainer__sRht1",paginationWrapper:"Paginator_paginationWrapper__1b3Mc",btnNav:"Paginator_btnNav__38cGb",item:"Paginator_item__1hKRH",active:"Paginator_active__CeI7B"}},28:function(e,t,a){e.exports={description:"ProfileInfo_description__2yWda",profileInfoContainer:"ProfileInfo_profileInfoContainer__2AB0E",avatar:"ProfileInfo_avatar__3xuFq"}},31:function(e,t,a){e.exports={header:"Header_header__1VCKf",AppLogo:"Header_AppLogo__nsysM","App-logo-spin":"Header_App-logo-spin__1AZMH",AppHeader:"Header_AppHeader__1G89E",loginBlock:"Header_loginBlock__6mma5",logoContainer:"Header_logoContainer__gaEZM"}},37:function(e,t){e.exports="data:image/png;base64,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"},40:function(e,t,a){e.exports={profileStatus:"ProfileStatus_profileStatus__3wB7u"}},47:function(e,t,a){e.exports={userItem:"UserItem_userItem__2K1XX",avatar:"UserItem_avatar__3_Njk"}},48:function(e,t,a){e.exports={overlay:"Spinner_overlay__3BBkk",ldsSpinner:"Spinner_ldsSpinner__2KopQ"}},49:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},59:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var n=a(7),r=a(8),o=a(10),s=a(9),i=a(0),u=a.n(i),c=a(6),l=a(3),p=function(e){return{isAuth:e.auth.isAuth}},A=function(e){var t=function(t){Object(o.a)(i,t);var a=Object(s.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(l.a,{to:"/login"})}}]),i}(u.a.Component);return Object(c.b)(p)(t)}},60:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return i}));var n=a(25),r=a(1),o={dialogs:[{id:1,name:"Alex"},{id:2,name:"Ivan"},{id:3,name:"Roberta"}],messages:[{id:1,message:"Hello"},{id:2,message:"Hou are you?"},{id:3,message:"Thanks, im good and you?"}],newMessageBody:""},s=function(){return{type:"SEND-MESSAGE"}},i=function(e){return{type:"UPDATE-NEW-MESSAGE-BODY",bodyMessage:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE-NEW-MESSAGE-BODY":return Object(r.a)(Object(r.a)({},e),{},{newMessageBody:t.bodyMessage});case"SEND-MESSAGE":var a=e.newMessageBody;return Object(r.a)(Object(r.a)({},e),{},{newMessageBody:"",messages:[].concat(Object(n.a)(e.messages),[{id:4,message:a}])});default:return e}}},62:function(e,t,a){},63:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},66:function(e,t,a){e.exports={item:"Post_item__ihtu9"}},69:function(e,t,a){e.exports=a(99)},74:function(e,t,a){},75:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(33),s=a.n(o),i=(a(74),a(7)),u=a(8),c=a(10),l=a(9),p=a(3),A=(a(75),a(11)),m=a(19),d=a.n(m),g=function(){return r.a.createElement("nav",{className:d.a.nav},r.a.createElement("div",{className:d.a.item},r.a.createElement(A.b,{to:"/profile",activeClassName:d.a.activeLink},"Profile")),r.a.createElement("div",{className:d.a.item},r.a.createElement(A.b,{to:"/dialogs",activeClassName:d.a.activeLink},"Messages")),r.a.createElement("div",{className:d.a.item},r.a.createElement(A.b,{to:"/users",activeClassName:d.a.activeLink},"Users")),r.a.createElement("div",{className:d.a.item},r.a.createElement("a",{href:""},"More")),r.a.createElement("div",{className:d.a.item},"Music"))},f=a(6),E=a(2),h=a.n(E),v=a(15),w=a(25),b=a(1),O=a(42),C=a.n(O).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"a5008e7c-13ed-4c09-91fb-8786d1dab1cb"}}),S=function(){return C.get("/auth/me").then((function(e){return e.data}))},B=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return C.post("/auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},j=function(){return C.delete("/auth/login").then((function(e){return e.data}))},P={getUsers:function(e,t){return C.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return C.post("follow/"+e).then((function(e){return e.data}))},unfollow:function(e){return C.delete("follow/"+e).then((function(e){return e.data}))},getProfileData:function(e){return console.warn("Obsolete method.Please profileAPI object."),I.getProfileData(e)}},I={getProfileData:function(e){return C.get("profile/"+e).then((function(e){return e.data}))},updateStatus:function(e){return C.put("profile/status",{status:e}).then((function(e){return e.data}))},getStatus:function(e){return C.get("profile/status/"+e).then((function(e){return e.data}))}},y=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(b.a)(Object(b.a)({},e),n):e}))},Q={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},N=function(e){return{type:"FOLLOW",userId:e}},U=function(e){return{type:"UNFOLLOW",userId:e}},k=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},D=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},M=function(e,t){return{type:"FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}},_=function(){var e=Object(v.a)(h.a.mark((function e(t,a,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(M(!0,a)),e.next=3,n(a);case 3:0==e.sent.resultCode&&(t(r(a)),t(M(!1,a)));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(b.a)(Object(b.a)({},e),{},{users:y(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(b.a)(Object(b.a)({},e),{},{users:y(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(b.a)(Object(b.a)({},e),{},{users:Object(w.a)(t.users)});case"SET_CURRENT_PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case"FOLLOWING_IN_PROGRESS":return Object(b.a)(Object(b.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(w.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},T=a(36),H=a(62),F=a.n(H),L=a(37),G=a.n(L),R=a(47),J=a.n(R),K=function(e){return r.a.createElement("div",{className:J.a.userItem},r.a.createElement("div",null,r.a.createElement(A.b,{to:"/profile/"+e.user.id},r.a.createElement("img",{className:J.a.avatar,src:e.user.photos.small?e.user.photos.small:e.defaultAvatar,alt:""}))),r.a.createElement("div",null,e.user.id," "),r.a.createElement("div",null,e.user.name," "),r.a.createElement("div",null,e.user.status," "),r.a.createElement("div",null,r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){var t;t=e.user.id,e.user.followed?e.onUnfollow(t):e.onFollow(t)}},e.user.followed?"unfollow":"follow")))},Y=a(30),X=a(26),V=a.n(X),z=function(e){for(var t=e.totalItemsCount,a=e.pageSize,o=e.currentPage,s=e.onPageChanged,i=e.portionSize,u=void 0===i?10:i,c=Object(n.useState)(1),l=Object(Y.a)(c,2),p=l[0],A=l[1],m=Math.ceil(t/a),d=[],g=u*(p-1),f=u*p,E=1;E<=m;E++)d.push(E);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null," Page ",r.a.createElement("span",{style:{color:"red"}},r.a.createElement("b",null,o))," of ",r.a.createElement("i",null,m))),r.a.createElement("div",{className:V.a.paginationWrapper},r.a.createElement("div",{className:V.a.btnNav}," ",r.a.createElement("button",{disabled:!(p>1),onClick:function(){A(p-1)}}," ","<"," ")),r.a.createElement("div",{className:V.a.paginationContainer},d.filter((function(e,t){return t>=g&&t<f})).map((function(e,t){return r.a.createElement("div",{key:t,className:"".concat(V.a.item," ").concat(o===e?V.a.active:""),onClick:function(){s(e)}},e)}))),r.a.createElement("div",{className:V.a.btnNav},r.a.createElement("button",{disabled:!(p<Math.ceil(m/u)),onClick:function(){A(p+1)}},"   ",">"," "))))},Z=function(e){var t=e.users,a=e.followingInProgress,n=e.onFollow,o=e.onUnfollow,s=e.totalUsersCount,i=e.pageSize,u=e.currentPage,c=e.onPageChanged,l=(Object(T.a)(e,["users","followingInProgress","onFollow","onUnfollow","totalUsersCount","pageSize","currentPage","onPageChanged"]),t.map((function(e){return r.a.createElement(K,{key:e.id,user:e,followingInProgress:a,defaultAvatar:G.a,onFollow:n,onUnfollow:o})})));return r.a.createElement("div",{className:F.a.users},r.a.createElement("h2",null,"Users List"),r.a.createElement("div",null,l),r.a.createElement(z,{totalItemsCount:s,pageSize:i,currentPage:u,onPageChanged:c}))},q=a(48),W=a.n(q),$=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:W.a.overlay},r.a.createElement("div",{className:W.a.ldsSpinner},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))},ee=a(68),te=Object(ee.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ae=function(e){return e.usersPage.pageSize},ne=function(e){return e.usersPage.totalUsersCount},re=function(e){return e.usersPage.currentPage},oe=function(e){return e.usersPage.isFetching},se=function(e){return e.usersPage.followingInProgress},ie=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.requestUsers(t,e.props.pageSize)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,onFollow:this.props.follow,onUnfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}),this.props.isFetching?r.a.createElement($,null):"")}}]),a}(r.a.Component),ue=Object(f.b)((function(e){return{users:te(e),pageSize:ae(e),totalUsersCount:ne(e),currentPage:re(e),isFetching:oe(e),followingInProgress:se(e)}}),{setCurrentPage:k,requestUsers:function(e,t){return function(){var a=Object(v.a)(h.a.mark((function a(n){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(D(!0)),n(k(e)),a.next=4,P.getUsers(e,t);case 4:r=a.sent,n(D(!1)),n({type:"SET_USERS",users:r.items}),n({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:r.totalCount});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},follow:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=P.follow.bind(P),_(a,e,n,N);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=P.unfollow.bind(P),_(a,e,n,U);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(ie),ce=a(31),le=a.n(ce),pe=a(63),Ae=a.n(pe),me=function(e){return r.a.createElement("header",{className:le.a.AppHeader},r.a.createElement("div",{className:le.a.logoContainer},r.a.createElement("img",{src:Ae.a,className:le.a.AppLogo,alt:"logo"})),r.a.createElement("div",{className:le.a.loginBlock},e.auth.isAuth?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,e.auth.userId),r.a.createElement("div",null,e.auth.login),r.a.createElement("button",{onClick:e.logout},"Logout"))):r.a.createElement(A.b,{to:"/login"},"Login")))},de="samurai-network/auth/SET_USER_DATA",ge={userId:null,email:null,login:null,isAuth:!1,errors:null},fe=function(e,t,a,n){return{type:de,payload:{userId:e,email:t,login:a,isAuth:n}}},Ee=function(){return function(){var e=Object(v.a)(h.a.mark((function e(t){var a,n,r,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:0===(a=e.sent).resultCode&&(n=a.data,r=n.id,o=n.login,s=n.email,t(fe(r,s,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isAuth:t.payload.isAuth});default:return e}},ve=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(me,this.props)}}]),a}(r.a.Component),we=Object(f.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:0===e.sent.resultCode&&t(fe(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ve),be=a(23),Oe=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.props.isAuth?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),r.a.createElement(Ce,{login:this.props.login,logout:this.props.logout}))}}]),a}(r.a.Component),Ce=function(e){var t=e.login;return r.a.createElement("div",null,r.a.createElement(be.d,{initialValues:{email:"",password:"",confirmPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<=6&&(t.password="password length should bee more than 6 charaters"):t.password="Required Password",t},onSubmit:function(e,a){var n=a.setSubmitting,r=a.setErrors,o=a.setStatus;t(e.email,e.password,e.rememberMe,n,r,o)},initialStatus:{msg:"status initial general error"}},(function(e){var t=e.isSubmitting,a=(e.errors,e.status);return r.a.createElement(be.c,null,r.a.createElement("div",null,r.a.createElement("div",{style:{color:"red"}},a?a.msg:""),r.a.createElement("label",{htmlFor:"email"},"Email",r.a.createElement(be.b,{type:"email",name:"email",disabled:t,placeholder:"email"}),r.a.createElement(be.a,{name:"email"},(function(e){return r.a.createElement("div",{style:{color:"red"}},e)})))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(be.b,{type:"password",name:"password",disabled:t,placeholder:"password"}),r.a.createElement(be.a,{name:"password"},(function(e){return r.a.createElement("div",{style:{color:"red"}},e)}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"rememberMe"},"Remember me",r.a.createElement(be.b,{type:"checkbox",name:"rememberMe"})),r.a.createElement(be.a,{name:"rememberMe",component:"div"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",disabled:t},"Submit")),r.a.createElement("div",null))})))},Se=Object(f.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,a,n,r,o){return function(){var r=Object(v.a)(h.a.mark((function r(s){var i;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,B(e,t,a);case 2:0===(i=r.sent).resultCode?(s(Ee()),n(!1)):0!==i.resultCode&&(o({msg:i.messages[0]}),n(!1));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})(Oe),Be=a(17),je={initialized:!1},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}},Ie=a(40),ye=a.n(Ie),Qe=a(28),Ne=a.n(Qe),Ue=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status},e.componentDidUpdate=function(t,a){t.status!==e.props.status&&e.setState({state:e.props.status})},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ye.a.profileStatus},r.a.createElement("div",null,"status:",this.state.status),!this.state.editMode&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){e.activateEditMode()}},this.props.status)),this.state.editMode&&r.a.createElement("div",null,r.a.createElement("input",{onChange:function(t){e.onStatusChange(t)},autoFocus:!0,onBlur:function(){e.deactivateEditMode()},value:this.state.status,type:"text",placeholder:"set status"})))}}]),a}(r.a.Component),ke=function(e){var t=e.profile,a=e.status,n=e.updateStatus;Object(T.a)(e,["profile","status","updateStatus"]);return t?r.a.createElement("div",{className:Ne.a.profileInfo},r.a.createElement("div",null,r.a.createElement(Ue,{status:a,updateStatus:n})),r.a.createElement("div",{className:Ne.a.profileInfoContainer},r.a.createElement("div",null,t.photos.large?r.a.createElement("img",{className:Ne.a.avatar,src:t.photos.large,alt:""}):r.a.createElement("img",{className:Ne.a.avatar,src:G.a,alt:""})),r.a.createElement("div",null,t.userId),r.a.createElement("div",null,t.fullName),r.a.createElement("div",{className:Ne.a.description},t.aboutMe),r.a.createElement("div",null,t.lookingForAJobDescription))):r.a.createElement($,null)},De={newPostValue:"new post",posts:[{id:1,message:"My post1"},{id:2,message:"Post 2"},{id:3,message:"Post 3"}],profileId:2,profile:null,status:""},Me=function(e){return{type:"SET_STATUS",status:e}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={id:4,message:t.text};return Object(b.a)(Object(b.a)({},e),{},{posts:[].concat(Object(w.a)(e.posts),[a]),newPostValue:""});case"DELETE_POST":return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case"UPDATE-POST":return Object(b.a)(Object(b.a)({},e),{},{newPostValue:t.newText});case"SET_USER_PROFILE":return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(b.a)(Object(b.a)({},e),{},{status:t.status});default:return e}},xe=a(49),Te=a.n(xe),He=a(66),Fe=a.n(He),Le=function(e){return r.a.createElement("div",{className:Fe.a.item},r.a.createElement("img",{src:"https://www.w3schools.com/howto/img_avatar.png",alt:""})," ",e.message)},Ge=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createRef(),a=this.props.posts.map((function(e){return r.a.createElement(Le,{message:e.message,id:e.id,key:e.id})}));return r.a.createElement("div",{className:Te.a.postsBlock},r.a.createElement("h2",null,"My Posts"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("textarea",{ref:t,value:this.props.newTextPost?this.props.newTextPost:"",onChange:function(){var a=t.current.value;e.props.updateNewPostText(a)}})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){var a=t.current.value;e.props.addPost(a)}},"Add Post"),r.a.createElement("button",null,"Remove"))),r.a.createElement("div",{className:Te.a.posts},a))}}]),a}(n.PureComponent),Re=Object(f.b)((function(e){return{posts:e.profilePage.posts,newTextPost:e.profilePage.newPostValue}}),(function(e){return{addPost:function(t){e({type:"ADD-POST",text:t})},updateNewPostText:function(t){e({type:"UPDATE-POST",newText:t})}}}))(Ge),Je=function(e){return r.a.createElement("div",null,r.a.createElement(ke,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(Re,null))},Ke=a(59),Ye=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=1250),this.props.authorizedUserId&&(this.props.getUserProfile(e),this.props.getStatus(e))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})))}}]),a}(r.a.Component),Xe=Object(Be.d)(Object(f.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),{getUserProfile:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getProfileData(e);case 2:n=t.sent,a({type:"SET_USER_PROFILE",profile:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.getStatus(e);case 2:n=t.sent,a(Me(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.updateStatus(e);case 2:0===(n=t.sent).resultCode&&a(Me(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),p.f,Ke.a)(Ye),Ve=r.a.lazy((function(){return a.e(3).then(a.bind(null,103))})),ze=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(we,null),r.a.createElement(g,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(p.b,{path:"/dialogs",render:(e=Ve,function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading..")},r.a.createElement(e,t))})}),r.a.createElement(p.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Xe,null)}}),r.a.createElement(p.b,{path:"/users",render:function(){return r.a.createElement(ue,null)}}),r.a.createElement(p.b,{path:"/login",render:function(){return r.a.createElement(Se,null)}}))):r.a.createElement($,null);var e}}]),a}(r.a.Component),Ze=Object(Be.d)(Object(f.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Ee());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}),p.f)(ze);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qe=a(60),We=a(67),$e=Object(Be.c)({dialogsPage:qe.a,profilePage:_e,usersPage:x,auth:he,app:Pe}),et=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Be.d,tt=Object(Be.e)($e,et(Object(Be.a)(We.a)));window.__store__=tt;var at=tt;s.a.render(r.a.createElement(A.a,{basename:"/it-kamasutra2020"},r.a.createElement(f.a,{store:at},r.a.createElement(Ze,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.60c4b6ac.chunk.js.map